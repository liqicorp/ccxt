<?php
namespace ccxt;
include_once (__DIR__.'/../../ccxt.php');
// ----------------------------------------------------------------------------

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

// -----------------------------------------------------------------------------

error_reporting(E_ALL | E_STRICT);
date_default_timezone_set('UTC');


function example() {
    $myex = new \ccxt\okx(array());
    $from_timestamp = $myex->milliseconds() - 86400 * 1000; // last 24 hrs
    $ohlcv = $myex->fetch_ohlcv('BTC/USDT', '1m', $from_timestamp, 3, array(
    'whatever' => 123,
));
    $length = count($ohlcv);
    if ($length > 0) {
        $last_price = $ohlcv[$length - 1][4];
        var_dump('Fetched ' . $length . ' candles for ' . $myex->id . ':  last close ' . $last_price);
    } else {
        var_dump('No candles have been fetched');
    }
}


example();
